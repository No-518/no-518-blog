---
const baseUrl = import.meta.env.BASE_URL;
---

<div class="card">
  <div id="search"></div>
</div>

<script type="module" define:vars={{ baseUrl }}>
  import { PagefindUI } from '@pagefind/default-ui';

  const normalized = baseUrl.endsWith('/') ? baseUrl : `${baseUrl}/`;
  new PagefindUI({
    element: '#search',
    baseUrl: normalized,
    showSubResults: true,
    translations: {
      placeholder: '搜索文章...',
    },
  });
</script>
