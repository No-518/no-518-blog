---
const serverURL = import.meta.env.PUBLIC_WALINE_SERVER_URL;
const { path } = Astro.props;
---

{serverURL ? (
  <>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@waline/client@3/dist/waline.css"
    />
    <div id="waline"></div>
    <script
      is:inline
      define:vars={{ serverURL, path }}
      type="module"
    >
      import { init } from 'https://unpkg.com/@waline/client@3/dist/waline.js';

      init({
        el: '#waline',
        serverURL,
        path,
        dark: 'html.dark',
        lang: 'zh-CN',
      });
    </script>
  </>
) : null}
